(()=>{"use strict";var e,t,o,n={86248:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(8081),r=o.n(n),i=o(23645),l=o.n(i)()(r());l.push([e.id,".youtool{z-index:10000;opacity:0;position:fixed;top:0px;left:220px;display:flex;align-items:center;justify-content:center;column-gap:10px;row-gap:15px;padding:10px 15px;border-radius:10px;backdrop-filter:blur(10px);background:rgba(113,88,226,.3);border:3px solid #be2edd;box-shadow:0 0 10px rgba(0,0,0,.4);transition:.15s}.youtool:hover{opacity:1}.youtool-button{cursor:pointer;outline:none;user-select:none;border-radius:10px;display:flex;justify-content:center;align-items:center;height:40px;width:40px;font-size:15px;color:#fff;text-shadow:0 0 5px #be2edd;font-weight:bold;background:rgba(0,0,0,.3);border:2px solid rgba(190,46,221,.8);box-shadow:0 0 10px rgba(0,0,0,.3);transition:.2s}.youtool-button.active{background:rgba(190,46,221,.3);border:2px solid #be2edd;box-shadow:0 0 5px #be2edd}.youtool.no-transition{transition:0s}.youtool.attach-top-left{top:0;left:220px;bottom:unset;right:unset}.youtool.attach-bottom-left{top:unset;left:0;bottom:0;right:unset}.active-speed{user-select:none;z-index:10000;position:fixed;top:20px;left:190px;font-size:15px;font-weight:bold;color:#cacaca}",""]);const u=l},67835:(e,t,o)=>{o.r(t),o.d(t,{default:()=>h});var n=o(93379),r=o.n(n),i=o(7795),l=o.n(i),u=o(90569),s=o.n(u),a=o(3565),c=o.n(a),d=o(19216),p=o.n(d),f=o(44589),b=o.n(f),v=o(86248),y={};y.styleTagTransform=b(),y.setAttributes=c(),y.insert=s().bind(null,"head"),y.domAPI=l(),y.insertStyleElement=p(),r()(v.Z,y);const h=v.Z&&v.Z.locals?v.Z.locals:void 0},20905:(e,t,o)=>{const n=o(85893),r=o(20745),i=o(73332);(0,o(72500).createRootElement)("youtool"),(0,r.createRoot)(document.getElementById("youtool")).render((0,n.jsx)(i.Block,{}))},65985:function(e,t,o){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Block=void 0;const r=o(85893),i=o(67294),l=n(o(61193)),u=n(o(94184)),s=o(37286),a=o(91020),c=o(10965),d=o(11501),p=o(74006),f=o(49110);o(67835),t.Block=()=>{var e,t,o,n;const[b,v]=(0,i.useState)(s.DEFAULT_STORAGE),[y,h]=(0,i.useState)(!1),[m,g]=(0,a.useVideoSpy)(),{setBestQuality:x}=(0,c.useQuality)(),{loop:O,toggleLoop:E}=(0,d.useLoop)(),_=Object.keys(null!==(e=b.attach)&&void 0!==e?e:{}).map((e=>{var t;return(null!==(t=b.attach)&&void 0!==t?t:{})[e]})).find((e=>e));return(0,i.useEffect)((()=>{(async()=>{var e;const t=await(0,p.getItem)(["speeds","position","attach","loopButton"]);t&&((null===(e=t.speeds)||void 0===e?void 0:e.length)&&v((e=>({...e,speeds:t.speeds}))),t.position&&v((e=>({...e,position:t.position}))),t.attach&&v((e=>({...e,attach:t.attach}))),void 0!==t.loopButton&&v((e=>({...e,loopButton:t.loopButton}))))})()}),[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"active-speed",children:m}),(0,r.jsx)("div",{onContextMenu:x,children:(0,r.jsx)(l.default,{defaultPosition:b.position,position:_?void 0:b.position,onDrag:(e,{x:t,y:o})=>{v((e=>({...e,position:{x:t,y:o}})))},onStart:()=>h(!0),onStop:()=>{h(!1),(0,f.setItem)("position",b.position)},disabled:_,children:(0,r.jsxs)("div",{className:(0,u.default)("youtool",{"no-transition":y,"attach-top-left":null===(t=b.attach)||void 0===t?void 0:t.topLeft,"attach-bottom-left":null===(o=b.attach)||void 0===o?void 0:o.bottomLeft}),children:[null===(n=b.speeds)||void 0===n?void 0:n.map((e=>(0,r.jsx)("button",{className:(0,u.default)("youtool-button",{active:m===e}),onClick:()=>g(e),children:e},e))),b.loopButton&&(0,r.jsx)("button",{className:(0,u.default)("youtool-button",{active:O}),onClick:E,children:(0,r.jsx)("svg",{fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",children:(0,r.jsx)("path",{d:"M7 7H17V10L21 6L17 2V5H5V11H7V7ZM17 17H7V14L3 18L7 22V19H19V13H17V17Z",fill:"white"})})})]})})})]})}},73332:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Block=void 0;var n=o(65985);Object.defineProperty(t,"Block",{enumerable:!0,get:function(){return n.Block}})},11501:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useLoop=void 0;const n=o(67294),r={LOOP_BUTTON:".ytp-contextmenu .ytp-menuitem",PLAYER:".html5-video-player"};t.useLoop=()=>{const[e,t]=(0,n.useState)(!1),o=(0,n.useRef)(null);function i(e){e.forEach((async()=>{var e;const o="true"===(null===(e=document.querySelector(r.LOOP_BUTTON))||void 0===e?void 0:e.getAttribute("aria-checked"));t(o)}))}return(0,n.useEffect)((()=>{o.current=new MutationObserver(i),o.current.observe(document,{childList:!0,subtree:!0})}),[]),{loop:e,toggleLoop:()=>{var e;const t=document.querySelector(r.PLAYER);t&&(t.dispatchEvent(new MouseEvent("contextmenu",{bubbles:!0,cancelable:!0,button:2})),null===(e=document.querySelector(r.LOOP_BUTTON))||void 0===e||e.click())}}}},10965:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useQuality=void 0;const n=o(67294);t.useQuality=()=>{const e=(0,n.useRef)(null);return{setBestQuality:t=>{var o;t.preventDefault();const n=(e,t)=>{e.forEach((async({target:e})=>{if(!(e instanceof HTMLElement))return;const o=e.querySelectorAll(".ytp-settings-menu .ytp-panel-menu .ytp-menuitem[role='menuitem']");if(o.length){const e=Array.from(o).at(-1);return void(e instanceof HTMLElement&&e.click())}const n=document.querySelector(".ytp-quality-menu .ytp-panel-menu .ytp-menuitem");n instanceof HTMLElement&&(n.click(),t.disconnect())}))};null===(o=e.current)||void 0===o||o.disconnect(),e.current=new MutationObserver(n),e.current.observe(document,{childList:!0,subtree:!0}),setTimeout(e.current.disconnect,3e3);const r=document.querySelector(".ytp-settings-button");r&&r.click(),n([{target:document.body}],e.current)}}}},91020:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useVideoSpy=void 0;const n=o(67294);t.useVideoSpy=()=>{const[e,t]=(0,n.useState)(1),o=(0,n.useRef)(null);return(0,n.useEffect)((()=>{const n=({target:e})=>{e instanceof HTMLVideoElement&&1!==e.playbackRate&&t(e.playbackRate)},r=t=>{t.forEach((({target:t,addedNodes:o,removedNodes:r})=>{if(!(t instanceof HTMLElement))return;const i=t.querySelectorAll("video");i.length&&i.forEach((t=>{t.playbackRate=e,(null==o?void 0:o.length)&&t.addEventListener("ratechange",n),(null==r?void 0:r.length)&&t.removeEventListener("ratechange",n)}))}))};return o.current=new MutationObserver(r),o.current.observe(document,{childList:!0,subtree:!0}),r([{target:document.body}]),()=>{o.current&&o.current.disconnect()}}),[e]),[e,t]}},74006:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getItem=void 0,t.getItem=async e=>{try{return await chrome.storage.sync.get(e)}catch{return null}}},49110:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setItem=void 0,t.setItem=async(e,t)=>chrome.storage.sync.set({[e]:t})},37286:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_STORAGE=t.DEFAULT_SPEEDS=void 0,t.DEFAULT_SPEEDS=[1,1.5,2,2.5,3,5],t.DEFAULT_STORAGE={attach:{topLeft:!0,bottomLeft:!1},speeds:t.DEFAULT_SPEEDS,loopButton:!0,position:{x:0,y:0}}},72500:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createRootElement=void 0,t.createRootElement=(e="root")=>{const t=document.createElement("section");t.id=e,document.body.append(t)}}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={id:e,exports:{}};return n[e].call(o.exports,o,o.exports,i),o.exports}i.m=n,e=[],i.O=(t,o,n,r)=>{if(!o){var l=1/0;for(c=0;c<e.length;c++){for(var[o,n,r]=e[c],u=!0,s=0;s<o.length;s++)(!1&r||l>=r)&&Object.keys(i.O).every((e=>i.O[e](o[s])))?o.splice(s--,1):(u=!1,r<l&&(l=r));if(u){e.splice(c--,1);var a=n();void 0!==a&&(t=a)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[o,n,r]},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},o=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var r=Object.create(null);i.r(r);var l={};t=t||[null,o({}),o([]),o(o)];for(var u=2&n&&e;"object"==typeof u&&!~t.indexOf(u);u=o(u))Object.getOwnPropertyNames(u).forEach((t=>l[t]=()=>e[t]));return l.default=()=>e,i.d(r,l),r},i.d=(e,t)=>{for(var o in t)i.o(t,o)&&!i.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.j=584,(()=>{var e={584:0};i.O.j=t=>0===e[t];var t=(t,o)=>{var n,r,[l,u,s]=o,a=0;if(l.some((t=>0!==e[t]))){for(n in u)i.o(u,n)&&(i.m[n]=u[n]);if(s)var c=s(i)}for(t&&t(o);a<l.length;a++)r=l[a],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(c)},o=self.webpackChunkyoutool=self.webpackChunkyoutool||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})(),i.nc=void 0;var l=i.O(void 0,[736],(()=>i(20905)));l=i.O(l)})();