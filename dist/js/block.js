(()=>{"use strict";var e,t,o,n={86248:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(8081),r=o.n(n),i=o(23645),a=o.n(i)()(r());a.push([e.id,".youtool{z-index:10000;opacity:0;position:fixed;top:0px;left:220px;display:flex;align-items:center;justify-content:center;column-gap:10px;row-gap:15px;padding:10px 15px;border-radius:10px;backdrop-filter:blur(10px);background:rgba(113,88,226,.3);border:3px solid #be2edd;box-shadow:0 0 10px rgba(0,0,0,.4);transition:.15s}.youtool:hover{opacity:1}.youtool-button{cursor:pointer;outline:none;user-select:none;border-radius:10px;display:flex;justify-content:center;align-items:center;height:40px;width:40px;font-size:15px;color:#fff;text-shadow:0 0 5px #be2edd;font-weight:bold;background:rgba(0,0,0,.3);border:2px solid rgba(190,46,221,.8);box-shadow:0 0 10px rgba(0,0,0,.3);transition:.2s}.youtool-button.active{background:rgba(190,46,221,.3);border:2px solid #be2edd;box-shadow:0 0 5px #be2edd}.youtool.no-transition{transition:0s}.youtool.attach-top-left{top:0;left:220px;bottom:unset;right:unset}.youtool.attach-bottom-left{top:unset;left:0;bottom:0;right:unset}.active-speed{user-select:none;z-index:10000;position:fixed;top:20px;left:190px;font-size:15px;font-weight:bold;color:#cacaca}",""]);const l=a},67835:(e,t,o)=>{o.r(t),o.d(t,{default:()=>m});var n=o(93379),r=o.n(n),i=o(7795),a=o.n(i),l=o(90569),s=o.n(l),c=o(3565),u=o.n(c),d=o(19216),p=o.n(d),f=o(44589),y=o.n(f),b=o(86248),v={};v.styleTagTransform=y(),v.setAttributes=u(),v.insert=s().bind(null,"head"),v.domAPI=a(),v.insertStyleElement=p(),r()(b.Z,v);const m=b.Z&&b.Z.locals?b.Z.locals:void 0},20905:(e,t,o)=>{const n=o(85893),r=o(20745),i=o(73332);(0,o(72500).createRootElement)("youtool"),(0,r.createRoot)(document.getElementById("youtool")).render((0,n.jsx)(i.Block,{}))},65985:function(e,t,o){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Block=void 0;const r=o(85893),i=o(67294),a=n(o(61193)),l=n(o(94184)),s=o(37286),c=o(91020),u=o(10965),d=o(74006),p=o(49110);o(67835),t.Block=()=>{const[e,t]=(0,i.useState)(s.DEFAULT_SPEEDS),[o,n]=(0,i.useState)(!1),[f,y]=(0,i.useState)({x:0,y:0}),[b,v]=(0,i.useState)({}),[m,h]=(0,c.useVideoSpy)(),g=(0,u.useQuality)(),x=Object.keys(b).map((e=>b[e])).find((e=>e));return(0,i.useEffect)((()=>{(async()=>{var e;const o=await(0,d.getItem)(["speeds","position","attach"]);(null===(e=null==o?void 0:o.speeds)||void 0===e?void 0:e.length)&&t(o.speeds),(null==o?void 0:o.position)&&y(o.position),(null==o?void 0:o.attach)&&v(o.attach)})()}),[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"active-speed",children:m}),(0,r.jsx)("div",{onContextMenu:g,children:(0,r.jsx)(a.default,{defaultPosition:f,position:x?void 0:f,onDrag:(e,{x:t,y:o})=>{y({x:t,y:o})},onStart:()=>n(!0),onStop:()=>{n(!1),(0,p.setItem)("position",f)},disabled:x,children:(0,r.jsx)("div",{className:(0,l.default)("youtool",{"no-transition":o,"attach-top-left":b.topLeft,"attach-bottom-left":b.bottomLeft}),children:e.map((e=>(0,r.jsx)("button",{className:(0,l.default)("youtool-button",{active:m===e}),onClick:()=>h(e),children:e},e)))})})})]})}},73332:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Block=void 0;var n=o(65985);Object.defineProperty(t,"Block",{enumerable:!0,get:function(){return n.Block}})},10965:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useQuality=void 0;const n=o(67294);t.useQuality=()=>{const e=(0,n.useRef)(null);return t=>{var o;t.preventDefault();const n=(e,t)=>{e.forEach((async({target:e})=>{if(!(e instanceof HTMLElement))return;const o=e.querySelectorAll(".ytp-settings-menu .ytp-panel-menu .ytp-menuitem[role='menuitem']");if(o.length){const e=Array.from(o).at(-1);return void(e instanceof HTMLElement&&e.click())}const n=document.querySelector(".ytp-quality-menu .ytp-panel-menu .ytp-menuitem");n instanceof HTMLElement&&(n.click(),t.disconnect())}))};null===(o=e.current)||void 0===o||o.disconnect(),e.current=new MutationObserver(n),e.current.observe(document,{childList:!0,subtree:!0}),setTimeout(e.current.disconnect,3e3);const r=document.querySelector(".ytp-settings-button");r&&r.click(),n([{target:document.body}],e.current)}}},91020:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useVideoSpy=void 0;const n=o(67294);t.useVideoSpy=()=>{const[e,t]=(0,n.useState)(1),o=(0,n.useRef)(null);return(0,n.useEffect)((()=>{const n=({target:e})=>{e instanceof HTMLVideoElement&&1!==e.playbackRate&&t(e.playbackRate)},r=t=>{t.forEach((({target:t,addedNodes:o,removedNodes:r})=>{if(!(t instanceof HTMLElement))return;const i=t.querySelectorAll("video");i.length&&i.forEach((t=>{t.playbackRate=e,(null==o?void 0:o.length)&&t.addEventListener("ratechange",n),(null==r?void 0:r.length)&&t.removeEventListener("ratechange",n)}))}))};return o.current=new MutationObserver(r),o.current.observe(document,{childList:!0,subtree:!0}),r([{target:document.body}]),()=>{o.current&&o.current.disconnect()}}),[e]),[e,t]}},74006:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getItem=void 0,t.getItem=async e=>{try{return await chrome.storage.sync.get(e)}catch{return null}}},49110:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setItem=void 0,t.setItem=async(e,t)=>chrome.storage.sync.set({[e]:t})},37286:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_SPEEDS=void 0,t.DEFAULT_SPEEDS=[1,1.5,2,2.5,3,5]},72500:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createRootElement=void 0,t.createRootElement=(e="root")=>{const t=document.createElement("section");t.id=e,document.body.append(t)}}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={id:e,exports:{}};return n[e].call(o.exports,o,o.exports,i),o.exports}i.m=n,e=[],i.O=(t,o,n,r)=>{if(!o){var a=1/0;for(u=0;u<e.length;u++){for(var[o,n,r]=e[u],l=!0,s=0;s<o.length;s++)(!1&r||a>=r)&&Object.keys(i.O).every((e=>i.O[e](o[s])))?o.splice(s--,1):(l=!1,r<a&&(a=r));if(l){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[o,n,r]},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},o=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var r=Object.create(null);i.r(r);var a={};t=t||[null,o({}),o([]),o(o)];for(var l=2&n&&e;"object"==typeof l&&!~t.indexOf(l);l=o(l))Object.getOwnPropertyNames(l).forEach((t=>a[t]=()=>e[t]));return a.default=()=>e,i.d(r,a),r},i.d=(e,t)=>{for(var o in t)i.o(t,o)&&!i.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.j=584,(()=>{var e={584:0};i.O.j=t=>0===e[t];var t=(t,o)=>{var n,r,[a,l,s]=o,c=0;if(a.some((t=>0!==e[t]))){for(n in l)i.o(l,n)&&(i.m[n]=l[n]);if(s)var u=s(i)}for(t&&t(o);c<a.length;c++)r=a[c],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(u)},o=self.webpackChunkyoutool=self.webpackChunkyoutool||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})(),i.nc=void 0;var a=i.O(void 0,[736],(()=>i(20905)));a=i.O(a)})();